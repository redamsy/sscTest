(this.webpackJsonpssctest=this.webpackJsonpssctest||[]).push([[0],{209:function(e,t,a){e.exports=a(365)},214:function(e,t,a){},215:function(e,t,a){},365:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(45),l=a.n(i),o=(a(214),a(17)),c=a(18),s=a(20),u=a(23),d=a(25),p=(a(215),a(19)),h=a(34),m=a(380),g=a(366),b=a(67),f=a.n(b),E=f.a.create({baseURL:"http://192.168.1.109:8080/ssctestLaravel/public/api/"}),y=f.a.create({baseURL:"http://192.168.1.109:8080/ssctestLaravel/public/api/"});y.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("ssctestOauthAccessToken"),y.defaults.headers.common.Accept="application/json";var v=y,C=a(31),O=Object(C.a)();var j=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{primary:!0,onClick:function(){e.props.logoutCall()}},"logout")}}]),a}(r.a.Component),k=Object(p.b)((function(e){return{logged:e.auth.logged}}),(function(e){return{logoutCall:function(){e((function(e,t){v({method:"post",url:"logout"}).then((function(t){console.log(t.data),"success"===t.data.message&&(e({type:"LOGOUT"}),O.push("/"))}))}))}}}))(j),_=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activeItem:"home"},e.handleItemClick=function(t,a){var n=a.name;e.setState({activeItem:n})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.activeItem;return r.a.createElement(m.a,{style:D.Navbar,secondary:!0},r.a.createElement(h.a,{to:"/home",className:"brand-logo"},"LOGO"),r.a.createElement(m.a.Item,{as:h.b,to:"/home",name:"home",active:"home"===t,onClick:this.handleItemClick}),r.a.createElement(m.a.Item,{as:h.b,to:"/dashboard",name:"dashboard",active:"dashboard"===t,onClick:this.handleItemClick}),r.a.createElement(m.a.Item,{as:h.b,to:"/cars",name:"cars",active:"cars"===t,onClick:this.handleItemClick}),r.a.createElement(m.a.Item,{as:h.b,to:"/rentals",name:"rentals",active:"rentals"===t,onClick:this.handleItemClick}),r.a.createElement(m.a.Menu,{position:"right"},this.props.logged?r.a.createElement(k,null):"/login"===this.props.history.location.pathname?r.a.createElement(g.a,{primary:!0,onClick:function(){e.props.history.push("/register")}},"register"):r.a.createElement(g.a,{primary:!0,onClick:function(){e.props.history.push("/login")}},"login")))}}]),a}(n.Component),w=Object(p.b)((function(e){return{logged:e.auth.logged}}),(function(e){return{}}))(Object(d.g)(_)),D={Navbar:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,.1)",paddingTop:"20px",paddingLeft:"100px",paddingRight:"100px",paddingBottom:"20px"}},T=a(185);function R(e){var t=e.component,a=e.isPrivate,n=Object(T.a)(e,["component","isPrivate"]),i=n.logged;return console.log("isPrivate "+a),console.log("logged "+i),a?i?(console.log("1"),r.a.createElement(d.b,Object.assign({},n,{component:t}))):(console.log("2"),r.a.createElement(d.a,{to:"/login"})):"LogIn"!==t.WrappedComponent.name&&"Register"!==t.WrappedComponent.name||!i?(console.log("4"),r.a.createElement(d.b,Object.assign({},n,{component:t}))):(console.log("3"),r.a.createElement(d.a,{to:"/"}))}var S=Object(p.b)((function(e){return{logged:e.auth.logged}}))(R);R.defaultProps={isPrivate:!1};var q=a(16),A=a(26),F=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:"",password:""},n.handleChange=n.handleChange.bind(Object(A.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("input",{type:"text",placeholder:"email",name:"email",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleChange}),r.a.createElement("button",{onClick:function(){e.props.login(e.state)}},"login"))}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;return this.setState(Object(q.a)({},n,a)),!0}}]),a}(r.a.Component),I=Object(p.b)((function(e){return{logged:e.auth.logged}}),(function(e){return{login:function(t){e(function(e){var t=e.email,a=e.password;return function(e,n){E({method:"post",url:"login",data:{email:t,password:a}}).then((function(t){e({type:"LOGIN"}),localStorage.setItem("ssctestOauthAccessToken",t.data.success.token),window.location.reload(!0)}))}}(t))}}}))(F),L=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:"",email:"",password:"",c_password:""},n.handleChange=n.handleChange.bind(Object(A.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("input",{type:"text",placeholder:"name",name:"name",onChange:this.handleChange}),r.a.createElement("input",{type:"text",placeholder:"email",name:"email",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"c_password",onChange:this.handleChange}),r.a.createElement("button",{onClick:function(){e.props.register(e.state)}},"register"))}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;return this.setState(Object(q.a)({},n,a)),!0}}]),a}(r.a.Component),x=Object(p.b)((function(e){return{}}),(function(e){return{register:function(t){e(function(e){var t=e.name,a=e.email,n=e.password,r=e.c_password;return function(e,i){E({method:"post",url:"register",data:{name:t,email:a,password:n,c_password:r}}).then((function(t){e({type:"LOGIN"}),localStorage.setItem("ssctestOauthAccessToken",t.data.success.token),window.location.reload(!0)}))}}(t))}}}))(L),P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"home")}}]),a}(r.a.Component),G=Object(p.b)(null,(function(e){return{}}))(P),M=a(377),U=a(375),N=a(378),B=function(e){return r.a.createElement(N.a,{name:e.name,placeholder:e.placeholder,value:e.value,clearable:!0,fluid:!0,search:!0,selection:!0,onChange:e.action,options:e.options})},z=function(e){return r.a.createElement("div",null,r.a.createElement(M.a,{onSubmit:e.handleSubmit},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Field,{control:U.a,label:e.name,placeholder:e.name,name:e.name,onChange:e.handleChange,required:!0}),r.a.createElement(g.a,{type:"submit"},"submit"))))},Y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeDropdown=function(e,t){var a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleSubmit1=function(e){e.preventDefault(),n.props.createColor(n.state),e.target.reset()},n.handleSubmit2=function(e){e.preventDefault(),n.props.createFuel(n.state),e.target.reset()},n.handleSubmit3=function(e){e.preventDefault(),n.props.createMake(n.state),e.target.reset()},n.handleSubmit4=function(e){e.preventDefault(),n.props.createStatus(n.state),e.target.reset()},n.handleSubmit5=function(e){e.preventDefault(),n.props.createType(n.state),e.target.reset()},n.handleSubmit6=function(e){e.preventDefault(),n.props.createRentaltype(n.state),e.target.reset()},n.handleSubmit7=function(e){e.preventDefault(),n.props.createModel(n.state),e.target.reset()},n.handleSubmit8=function(e){e.preventDefault(),n.props.createCustomer(n.state),e.target.reset()},n.handleSubmit9=function(e){e.preventDefault(),n.props.createRate(n.state),e.target.reset()},n.state={color:"",fuel:"",make:"",status:"",type:"",rentaltype:"",model:"",make_id:"",customer:"",contact:"",address:"",credentials:"",rate:"",car_id:"",rentaltype_id:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{style:W.form},r.a.createElement(z,{handleChange:this.handleChange,handleSubmit:this.handleSubmit1,name:"color"}),r.a.createElement(z,{handleChange:this.handleChange,handleSubmit:this.handleSubmit2,name:"fuel"}),r.a.createElement(z,{handleChange:this.handleChange,handleSubmit:this.handleSubmit3,name:"make"}),r.a.createElement(z,{handleChange:this.handleChange,handleSubmit:this.handleSubmit4,name:"status"}),r.a.createElement(z,{handleChange:this.handleChange,handleSubmit:this.handleSubmit5,name:"type"}),r.a.createElement(z,{handleChange:this.handleChange,handleSubmit:this.handleSubmit6,name:"rentaltype"}),r.a.createElement(M.a,{onSubmit:this.handleSubmit7},r.a.createElement(M.a.Group,{widths:"50"},r.a.createElement(M.a.Field,{control:U.a,label:"model",placeholder:"model",name:"model",onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"make",placeholder:"make",action:this.handleChangeDropdown,name:"make_id",options:this.props.makeOptions,required:!0}),r.a.createElement(g.a,{type:"submit"},"submit"))),r.a.createElement(M.a,{onSubmit:this.handleSubmit8},r.a.createElement(M.a.Group,{widths:"50"},r.a.createElement(M.a.Field,{control:U.a,label:"customer",placeholder:"customer",name:"customer",onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:U.a,label:"contact",placeholder:"contact",name:"contact",onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:U.a,label:"address",placeholder:"address",name:"address",onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:U.a,label:"credentials",placeholder:"credentials",name:"credentials",onChange:this.handleChange,required:!0}),r.a.createElement(g.a,{type:"submit"},"submit"))))}}]),a}(r.a.Component),H=Object(p.b)((function(e){return{makeOptions:e.other.makeOptions,carOptions:e.other.cars,rentaltypeOptions:e.other.rentaltypeOptions}}),(function(e){return{createColor:function(t){e(function(e){return function(t,a){v({method:"post",url:"color",data:{name:e.color}}).then((function(e){t({type:"CREATE_COLOR",newcolor:e.data.data})}))}}(t))},createFuel:function(t){e(function(e){return function(t,a){v({method:"post",url:"fuel",data:{name:e.fuel}}).then((function(e){t({type:"CREATE_FUEL",newfuel:e.data.data})}))}}(t))},createMake:function(t){e(function(e){return function(t,a){v({method:"post",url:"make",data:{name:e.make}}).then((function(e){t({type:"CREATE_MAKE",newmake:e.data.data})}))}}(t))},createStatus:function(t){e(function(e){return function(t,a){v({method:"post",url:"status",data:{name:e.status}}).then((function(e){t({type:"CREATE_STATUS",newstatus:e.data.data})}))}}(t))},createType:function(t){e(function(e){return function(t,a){v({method:"post",url:"type",data:{name:e.type}}).then((function(e){t({type:"CREATE_TYPE",newtype:e.data.data})}))}}(t))},createRentaltype:function(t){e(function(e){return function(t,a){v({method:"post",url:"rentaltype",data:{name:e.rentaltype}}).then((function(e){t({rentaltype:"CREATE_RENTALTYPE",newrentaltype:e.data.data})}))}}(t))},createModel:function(t){e(function(e){return function(t,a){v({method:"post",url:"model",data:{name:e.model,make_id:e.make_id}}).then((function(e){t({type:"CREATE_MODEL",newmodel:e.data.data})}))}}(t))},createCustomer:function(t){e(function(e){return function(t,a){v({method:"post",url:"customer",data:{name:e.customer,contact:e.contact,address:e.address,credentials:e.credentials}}).then((function(e){t({type:"CREATE_CUSTOMER",newcustomer:e.data.data})}))}}(t))}}}))(Y),W={form:{marginTop:"10px",marginLeft:"50px"}},Z=a(381),J=a(376),K=a(374),$=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).maxSelectFile=function(e){if(e.target.files.length>3){return e.target.value=null,alert("Only 3 images can be uploaded at a time"),!1}return!0},n.handleChangeFile=function(e){var t=e.target.files;n.maxSelectFile(e)&&n.setState({file:t})},n.handleChangeDropdown=function(e,t){var a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChangeCheckbox=function(e,t){var a=t.checked,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleSubmit=function(e){e.preventDefault(),n.props.createCar(n.state)},n.state={registration:"",chassis:"",year:"",capacity:"",isAutomatic:!1,equipment:"",flaw:"nothing wrong with this car",mileage:"",model_id:"",fuel_id:"",type_id:"",color_id:"",hourlyRate:"",dailyRate:"",monthlyRate:"",file:[]},n.handleSubmit=n.handleSubmit.bind(Object(A.a)(n)),n.handleChange=n.handleChange.bind(Object(A.a)(n)),n.handleChangeCheckbox=n.handleChangeCheckbox.bind(Object(A.a)(n)),n.handleChangeDropdown=n.handleChangeDropdown.bind(Object(A.a)(n)),n.handleChangeFile=n.handleChangeFile.bind(Object(A.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M.a,{onSubmit:this.handleSubmit},r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:U.a,label:"registration",placeholder:"registration",name:"registration",onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:U.a,label:"chassis",placeholder:"chassis",name:"chassis",onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"year",placeholder:"year",name:"year",onChange:this.handleChange,max:(new Date).getFullYear(),min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"capacity",placeholder:"capacity",name:"capacity",onChange:this.handleChange,min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"mileage",placeholder:"mileage",name:"mileage",onChange:this.handleChange,min:0,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:J.a,label:"equipment",placeholder:"equipment",name:"equipment",onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:J.a,label:"flaw",placeholder:"flaw",name:"flaw",value:"nothing wrong with this car",onChange:this.handleChange,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:B,label:"model",placeholder:"model",action:this.handleChangeDropdown,name:"model_id",options:this.props.modelOptions,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"fuel",placeholder:"fuel",action:this.handleChangeDropdown,name:"fuel_id",options:this.props.fuelOptions,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"type",placeholder:"type",action:this.handleChangeDropdown,name:"type_id",options:this.props.typeOptions,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"color",placeholder:"color",action:this.handleChangeDropdown,name:"color_id",options:this.props.colorOptions,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"hourlyRate",placeholder:"hourlyRate",name:"hourlyRate",onChange:this.handleChange,min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"dailyRate",placeholder:"dailyRate",name:"dailyRate",onChange:this.handleChange,min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"monthlyRate",placeholder:"monthlyRate",name:"monthlyRate",onChange:this.handleChange,min:0,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(g.a,{type:"submit"},"submit"),r.a.createElement(M.a.Field,{control:K.a,label:"isAutomatic",name:"isAutomatic",onChange:this.handleChangeCheckbox,required:!0}),"images",r.a.createElement(M.a.Field,{control:U.a,type:"file",name:"file",onChange:this.handleChangeFile,multiple:!0,required:!0}))))}}]),a}(n.Component),Q=Object(p.b)((function(e){return{modelOptions:e.other.modelOptions,fuelOptions:e.other.fuelOptions,typeOptions:e.other.typeOptions,colorOptions:e.other.colorOptions}}),(function(e){return{createCar:function(t){e(function(e){return function(t,a){for(var n=new FormData,r=0;r<e.file.length;r++)n.append("file[]",e.file[r]);n.append("registration",e.registration),n.append("chassis",e.chassis),n.append("year",e.year),n.append("capacity",e.capacity),n.append("isAutomatic",e.isAutomatic?1:0),n.append("equipment",e.equipment),n.append("flaw",e.flaw),n.append("mileage",e.mileage),n.append("model_id",e.model_id),n.append("fuel_id",e.fuel_id),n.append("type_id",e.type_id),n.append("color_id",e.color_id),n.append("hourlyRate",e.hourlyRate),n.append("dailyRate",e.dailyRate),n.append("monthlyRate",e.monthlyRate),v({method:"post",url:"car",data:n}).then((function(e){t({type:"CREATE_CAR",newcar:e.data.data})}))}}(t))}}}))($),V=a(379),X=a(197),ee=a(57),te=function(e){var t=e.id,a=e.registration,n=e.chassis,i=e.year,l=e.capacity,o=e.isAutomatic,c=e.equipment,s=e.flaw,u=e.mileage,d=e.isAvailable,p=e.model,m=e.fuel,g=e.type,b=e.color,f=e.created_at,E=(e.updated_at,e.image),y=e.carsImagesBaseURL;return r.a.createElement(h.a,{to:"car/"+t},r.a.createElement(V.a.Group,null,r.a.createElement(V.a,{key:t,fluid:!0},r.a.createElement(X.a,{src:y+E.fileName,wrapped:!0,ui:!1}),r.a.createElement(V.a.Content,null,r.a.createElement(V.a.Header,null,p),r.a.createElement(V.a.Meta,null,r.a.createElement("span",{className:"date"},f)),r.a.createElement(V.a.Description,null,"registration:",a,", chassis:",n,", year:",i,", capacity:",l,", isAutomatic:",o,", equipment:",c,", flaw:",s,", mileage:",u,", fuel:",m,", type:",g,", color:",b)),r.a.createElement(V.a.Content,{extra:!0},d?r.a.createElement("a",null,r.a.createElement(ee.a,{name:"check"}),"Available"):r.a.createElement("a",null,r.a.createElement(ee.a,{name:"ban"}),"Not Available")))))},ae=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={visible:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=function(t){return r.a.createElement(Z.a,{colums:3,divided:!0},t.cars.map((function(t){return r.a.createElement(Z.a.Column,{width:5},r.a.createElement(te,Object.assign({},t,{carsImagesBaseURL:e.props.carsImagesBaseURL})))})))};return r.a.createElement("div",null,r.a.createElement("div",{style:re.form},r.a.createElement(g.a,{onClick:function(){return e.setState({visible:!e.state.visible})}},"create Car")),this.state.visible?r.a.createElement("div",{style:re.form},r.a.createElement(Q,null)):null,r.a.createElement("div",{style:re.form},r.a.createElement(t,{cars:this.props.cars})))}}]),a}(n.Component),ne=Object(p.b)((function(e){return{cars:e.other.cars,carsImagesBaseURL:e.auth.carsImagesBaseURL}}),(function(e){return{}}))(ae),re={form:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"}},ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeDropdown=function(e,t){var a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChangeCheckbox=function(e,t){var a=t.checked,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a),(function(){n.changeMinTime()})),!0},n.handleSubmit=function(e){e.preventDefault(),n.validateDates()&&(console.log("success"),n.props.createRental(n.state))},n.state={pickupDate:"",pickupTime:"",returnDate:"",returnTime:"",min:"",isPaid:"",car_id:"",customer_id:""},n.handleSubmit=n.handleSubmit.bind(Object(A.a)(n)),n.handleChange=n.handleChange.bind(Object(A.a)(n)),n.handleChangeCheckbox=n.handleChangeCheckbox.bind(Object(A.a)(n)),n.handleChangeDropdown=n.handleChangeDropdown.bind(Object(A.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=(new Date).toISOString().split("T")[0];return r.a.createElement("div",null,r.a.createElement(M.a,{onSubmit:this.handleSubmit},r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:U.a,type:"date",label:"pickupDate",placeholder:"pickupDate",name:"pickupDate",onChange:this.handleChange,min:e,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"time",label:"pickupTime",placeholder:"pickupTime",name:"pickupTime",onChange:this.handleChange,min:this.state.min,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"date",label:"returnDate",placeholder:"returnDate",name:"returnDate",onChange:this.handleChange,min:e,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"time",label:"returnTime",placeholder:"returnTime",name:"returnTime",onChange:this.handleChange,min:this.state.min,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:B,label:"car",placeholder:"car",action:this.handleChangeDropdown,name:"car_id",options:this.props.carOptions,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"customer",placeholder:"customer",action:this.handleChangeDropdown,name:"customer_id",options:this.props.customerOptions,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(g.a,{type:"submit"},"submit"),r.a.createElement(M.a.Field,{control:K.a,label:"isPaid",name:"isPaid",onChange:this.handleChange,required:!0}))))}},{key:"changeMinTime",value:function(){var e=new Date,t=e.getMinutes(),a=e.getHours(),n=new Date(this.state.pickupDate);this.setState({min:n>e?"00:00":a+":"+t})}},{key:"validateTimes",value:function(e,t){var a=e.split(":"),n=a[0];"00"===n&&(n=24);var r=a[1],i=n+"."+r;console.log(i),"00"===(n=(a=t.split(":"))[0])&&(n=24);var l=n+"."+(r=a[1]);console.log(l);var o=l-i;return console.log(o),o>0}},{key:"validateDates",value:function(){var e=new Date(this.state.pickupDate),t=new Date(this.state.returnDate);return e>t?(alert("pickupDate shouldn't be greater than returnDate."),!1):+e!==+t||!!this.validateTimes(this.state.pickupTime,this.state.returnTime)}}]),a}(n.Component),le=Object(p.b)((function(e){return{carOptions:e.other.cars.filter((function(e){return 1===e.isAvailable})).map((function(e){return e})),customerOptions:e.other.customerOptions}}),(function(e){return{createRental:function(t){e(function(e){return function(t,a){v({method:"post",url:"rental",data:{pickupDate:e.pickupDate,pickupTime:e.pickupTime,returnDate:e.returnDate,returnTime:e.returnTime,isPaid:e.isPaid?1:0,car_id:e.car_id,customer_id:e.customer_id}}).then((function(e){"car not available"===e.data.message?alert("car not available"):t({type:"CREATE_RENTAL",newrental:e.data.data})}))}}(t))}}}))(ie),oe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={visible:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.rentals.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"rental",key:e.id,style:se.form},r.a.createElement(h.a,{to:"rental/"+e.id},r.a.createElement("div",null,"pickupDate: ",e.pickupDate),r.a.createElement("div",null,"car id: ",e.car_id),r.a.createElement("div",null,"rental price: ",e.price))),r.a.createElement("hr",{style:{width:"200px"}}))}));return r.a.createElement("div",null,r.a.createElement("div",{style:se.form},r.a.createElement(g.a,{onClick:function(){return e.setState({visible:!e.state.visible})}},"create rental")),this.state.visible?r.a.createElement("div",{style:se.form},r.a.createElement(le,null)):null,r.a.createElement("div",null,t))}}]),a}(n.Component),ce=Object(p.b)((function(e){return{rentals:e.other.rentals}}),(function(e){return{}}))(oe),se={form:{display:"flex",justifyContent:"center",alignItems:"center"}},ue=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeDropdown=function(e,t){var a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChangeCheckbox=function(e,t){var a=t.checked,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleSubmit=function(e){e.preventDefault(),n.props.updateCar(n.state)},n.state={id:"",registration:"",chassis:"",year:"",capacity:"",isAutomatic:!1,equipment:"",flaw:"",mileage:"",model_id:"",fuel_id:"",type_id:"",color_id:"",hourlyRate:"",dailyRate:"",monthlyRate:"",file:[],visible:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({id:this.props.car.id,registration:this.props.car.registration,chassis:this.props.car.chassis,year:this.props.car.year,capacity:this.props.car.capacity,isAutomatic:this.props.car.isAutomatic,equipment:this.props.car.equipment,flaw:this.props.car.flaw,mileage:this.props.car.mileage,model_id:this.props.car.model_id,fuel_id:this.props.car.fuel_id,type_id:this.props.car.type_id,color_id:this.props.car.color_id,hourlyRate:this.props.car.rentalrates[0].rate,dailyRate:this.props.car.rentalrates[1].rate,monthlyRate:this.props.car.rentalrates[2].rate})}},{key:"render",value:function(){var e=this;console.log(this.props.match.params.car_id);var t=function(e){return r.a.createElement(Z.a,{colums:3,divided:!0},e.images.map((function(t){return r.a.createElement(Z.a.Column,{width:5},r.a.createElement(V.a.Group,null,r.a.createElement(V.a,{key:t.id,fluid:!0},r.a.createElement(X.a,{src:e.carsImagesBaseURL+t.fileName,wrapped:!0,ui:!1}))))})))};return r.a.createElement("div",null,r.a.createElement("div",{style:pe.form},"| hourly rate: ",this.props.car.rentalrates[0].rate," | daily rate: ",this.props.car.rentalrates[1].rate," | monthly rate: ",this.props.car.rentalrates[2].rate),r.a.createElement("div",{style:pe.form},r.a.createElement(t,{images:this.props.car.images,carsImagesBaseURL:this.props.carsImagesBaseURL})),r.a.createElement("div",{style:pe.form},r.a.createElement(g.a,{onClick:function(){return e.setState({visible:!e.state.visible})}},"update Car")),r.a.createElement("div",{style:pe.form},this.state.visible?r.a.createElement(M.a,{onSubmit:this.handleSubmit},r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:U.a,label:"registration",placeholder:"registration",name:"registration",value:this.state.registration,onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:U.a,label:"chassis",placeholder:"chassis",name:"chassis",value:this.state.chassis,onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"year",placeholder:"year",name:"year",value:this.state.year,onChange:this.handleChange,max:(new Date).getFullYear(),min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"capacity",placeholder:"capacity",name:"capacity",value:this.state.capacity,onChange:this.handleChange,min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"mileage",placeholder:"mileage",name:"mileage",value:this.state.mileage,onChange:this.handleChange,min:0,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:J.a,label:"equipment",placeholder:"equipment",name:"equipment",value:this.state.equipment,onChange:this.handleChange,required:!0}),r.a.createElement(M.a.Field,{control:J.a,label:"flaw",placeholder:"flaw",name:"flaw",value:this.state.flaw,onChange:this.handleChange,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:B,label:"model",placeholder:"model",action:this.handleChangeDropdown,name:"model_id",value:this.state.model_id,options:this.props.modelOptions,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"fuel",placeholder:"fuel",action:this.handleChangeDropdown,name:"fuel_id",value:this.state.fuel_id,options:this.props.fuelOptions,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"type",placeholder:"type",action:this.handleChangeDropdown,name:"type_id",value:this.state.type_id,options:this.props.typeOptions,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"color",placeholder:"color",action:this.handleChangeDropdown,name:"color_id",value:this.state.color_id,options:this.props.colorOptions,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"hourlyRate",placeholder:"hourlyRate",name:"hourlyRate",value:this.state.hourlyRate,onChange:this.handleChange,min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"dailyRate",placeholder:"dailyRate",name:"dailyRate",value:this.state.dailyRate,onChange:this.handleChange,min:0,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"monthlyRate",placeholder:"monthlyRate",name:"monthlyRate",value:this.state.monthlyRate,onChange:this.handleChange,min:0,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(g.a,{type:"submit"},"submit"),r.a.createElement(M.a.Field,{control:K.a,label:"isAutomatic",name:"isAutomatic",value:this.state.isAutomatic,onChange:this.handleChangeCheckbox,required:!0}))):null))}}]),a}(r.a.Component),de=Object(p.b)((function(e,t){var a=t.match.params.car_id;return{car:e.other.cars.find((function(e){return e.id===parseInt(a,10)})),modelOptions:e.other.modelOptions,fuelOptions:e.other.fuelOptions,typeOptions:e.other.typeOptions,colorOptions:e.other.colorOptions,carsImagesBaseURL:e.auth.carsImagesBaseURL}}),(function(e){return{updateCar:function(t){e(function(e){return function(t,a){var n=new FormData;n.append("id",e.id),n.append("registration",e.registration),n.append("chassis",e.chassis),n.append("year",e.year),n.append("capacity",e.capacity),n.append("isAutomatic",e.isAutomatic?1:0),n.append("equipment",e.equipment),n.append("flaw",e.flaw),n.append("mileage",e.mileage),n.append("model_id",e.model_id),n.append("fuel_id",e.fuel_id),n.append("type_id",e.type_id),n.append("color_id",e.color_id),n.append("hourlyRate",e.hourlyRate),n.append("dailyRate",e.dailyRate),n.append("monthlyRate",e.monthlyRate),v({method:"post",url:"car/"+e.id+"?_method=PUT",data:n}).then((function(a){console.log(a),t({type:"DELETE_CAR",id:e.id}),t({type:"UPDATE_CAR",updatedCar:e})}))}}(t))}}}))(ue),pe={form:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"}},he=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeDropdown=function(e,t){var a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChangeCheckbox=function(e,t){var a=t.checked,r=t.name;return n.setState(Object(q.a)({},r,a)),!0},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;return n.setState(Object(q.a)({},r,a),(function(){n.changeMinTime()})),!0},n.handleSubmit=function(e){e.preventDefault(),n.validateDates()&&(console.log("success"),n.props.updateRental(n.state))},n.state={pickupDate:"",pickupTime:"",returnDate:"",returnTime:"",min:"",isPaid:"",addCharges:"",status_id:"",car_id:"",customer_id:"",visible:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.rental.pickupDate.split(" "),t=this.props.rental.returnDate.split(" ");this.setState({id:this.props.rental.id,pickupDate:e[0],pickupTime:e[1],returnDate:t[0],returnTime:t[1],isPaid:this.props.rental.isPaid,addCharges:this.props.rental.addCharges,status_id:this.props.rental.status_id,car_id:this.props.rental.car_id,customer_id:this.props.rental.customer_id})}},{key:"render",value:function(){var e=this;console.log(this.state.status_id);var t=(new Date).toISOString().split("T")[0];return r.a.createElement("div",null,r.a.createElement("div",{style:ge.form},r.a.createElement("div",null,"rental_id is  ",this.props.match.params.rental_id," | "),r.a.createElement("div",null,"car_id is  ",this.props.rental.car_id," | "),r.a.createElement("div",null,"payment(price) is  ",this.props.rental.price," | "),r.a.createElement("div",null,"car registaraion is  ",this.props.car.registration)),r.a.createElement("div",{style:ge.form},r.a.createElement(g.a,{onClick:function(){return e.setState({visible:!e.state.visible})}},"update rental")),r.a.createElement("div",{style:ge.form},this.state.visible?r.a.createElement(M.a,{onSubmit:this.handleSubmit},r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:U.a,type:"date",label:"pickupDate",placeholder:"pickupDate",name:"pickupDate",value:this.state.pickupDate,onChange:this.handleChange,min:t,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"time",label:"pickupTime",placeholder:"pickupTime",name:"pickupTime",value:this.state.pickupTime,onChange:this.handleChange,min:this.state.min,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"date",label:"returnDate",placeholder:"returnDate",name:"returnDate",value:this.state.returnDate,onChange:this.handleChange,min:t,required:!0}),r.a.createElement(M.a.Field,{control:U.a,type:"time",label:"returnTime",placeholder:"returnTime",name:"returnTime",value:this.state.returnTime,onChange:this.handleChange,min:this.state.min,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(M.a.Field,{control:U.a,type:"number",label:"addCharges",placeholder:"addCharges",name:"addCharges",value:this.state.addCharges,onChange:this.handleChange,min:0,required:!0}),r.a.createElement(M.a.Field,{control:B,label:"status",placeholder:"status",action:this.handleChangeDropdown,name:"status_id",value:this.state.status_id,options:this.props.statusOptions,required:!0})),r.a.createElement(M.a.Group,{widths:"equal"},r.a.createElement(g.a,{type:"submit"},"submit"),r.a.createElement(M.a.Field,{control:K.a,label:"isPaid",name:"isPaid",value:this.state.isPaid,onChange:this.handleChange,required:!0}))):null))}},{key:"changeMinTime",value:function(){var e=new Date,t=e.getMinutes(),a=e.getHours(),n=new Date(this.state.pickupDate);this.setState({min:n>e?"00:00":a+":"+t})}},{key:"validateTimes",value:function(e,t){var a=e.split(":"),n=a[0];"00"===n&&(n=24);var r=a[1],i=n+"."+r;console.log(i),"00"===(n=(a=t.split(":"))[0])&&(n=24);var l=n+"."+(r=a[1]);console.log(l);var o=l-i;return console.log(o),o>0}},{key:"validateDates",value:function(){var e=new Date(this.state.pickupDate),t=new Date(this.state.returnDate);return e>t?(alert("pickupDate shouldn't be greater than returnDate."),!1):+e!==+t||!!this.validateTimes(this.state.pickupTime,this.state.returnTime)}}]),a}(r.a.Component),me=Object(p.b)((function(e,t){var a=t.match.params.rental_id;return{rental:e.other.rentals.find((function(e){return e.id===parseInt(a,10)})),car:e.other.cars.find((function(t){return t.id===parseInt(e.other.rentals.find((function(e){return e.id===parseInt(a,10)})).car_id,10)})),statusOptions:e.other.statusOptions}}),(function(e){return{updateRental:function(t){e(function(e){return function(t,a){v({method:"post",url:"rental/"+e.id+"?_method=PUT",data:{id:e.id,pickupDate:e.pickupDate,pickupTime:e.pickupTime,returnDate:e.returnDate,returnTime:e.returnTime,addCharges:e.addCharges,status_id:e.status_id,isPaid:e.isPaid?1:0,car_id:e.car_id,customer_id:e.customer_id}}).then((function(a){console.log(a),t({type:"DELETE_RENTAL",id:e.id}),t({type:"UPDATE_RENTAL",updatedRental:e})}))}}(t))}}}))(he),ge={form:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"}};function be(){return r.a.createElement(d.d,null,r.a.createElement(S,{path:"/",exact:!0,component:G}),r.a.createElement(S,{path:"/login",component:I}),r.a.createElement(S,{path:"/register",component:x}),r.a.createElement(S,{path:"/dashboard",component:H,isPrivate:!0}),r.a.createElement(S,{path:"/cars",component:ne,isPrivate:!0}),r.a.createElement(S,{path:"/rentals",component:ce,isPrivate:!0}),r.a.createElement(S,{path:"/car/:car_id",component:de,isPrivate:!0}),r.a.createElement(S,{path:"/rental/:rental_id",component:me,isPrivate:!0}),r.a.createElement(S,{component:G}))}var fe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAll()}},{key:"render",value:function(){return r.a.createElement(d.c,{history:O},"` ",r.a.createElement(w,null),r.a.createElement(be,null))}}]),a}(n.Component),Ee=Object(p.b)(null,(function(e){return{initializeAll:function(){e((function(e,t){var a=v.get("me"),n=v.get("cars"),r=v.get("rentals"),i=v.get("rentaltypes"),l=v.get("models"),o=v.get("makes"),c=v.get("fuels"),s=v.get("types"),u=v.get("colors"),d=v.get("statuses"),p=v.get("customers");Promise.all([a,n,r,i,l,o,c,s,u,d,p]).then(f.a.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];a&&(e({type:"INITIALIZE_HOST_INFO",host_info:a[0].data.data}),e({type:"INITIALIZE_ALL",initializations:a}),O.push("/"))}))).catch((function(e){console.log(e.response)}))}))}}}))(fe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=a(55),ve=a(15),Ce={logged:null,host_info:{},carsImagesBaseURL:"http://192.168.1.109:8080/ssctestLaravel/public/images/cars/"},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;return"INITIALIZE_HOST_INFO"===t.type&&t.host_info?Object(ve.a)(Object(ve.a)({},e),{},{logged:!0,host_info:t.host_info}):"LOGIN"===t.type?Object(ve.a)(Object(ve.a)({},e),{},{logged:!0}):"LOGOUT"===t.type?Object(ve.a)(Object(ve.a)({},e),{},{logged:!1}):e},je=a(24),ke={posts:[{id:"1",name:"post1"},{id:"2",name:"post2"}],cars:[],rentals:[],rentaltypeOptions:[],modelOptions:[],makeOptions:[],fuelOptions:[],typeOptions:[],colorOptions:[],statusOptions:[],customerOptions:[]},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_ALL":return Object(ve.a)(Object(ve.a)({},e),{},{cars:Object(je.a)(t.initializations[1].data.data),rentals:Object(je.a)(t.initializations[2].data.data),rentaltypeOptions:Object(je.a)(t.initializations[3].data.data),modelOptions:Object(je.a)(t.initializations[4].data.data),makeOptions:Object(je.a)(t.initializations[5].data.data),fuelOptions:Object(je.a)(t.initializations[6].data.data),typeOptions:Object(je.a)(t.initializations[7].data.data),colorOptions:Object(je.a)(t.initializations[8].data.data),statusOptions:Object(je.a)(t.initializations[9].data.data),customerOptions:Object(je.a)(t.initializations[10].data.data)});case"CREATE_CAR":return Object(ve.a)(Object(ve.a)({},e),{},{cars:[].concat(Object(je.a)(e.cars),[t.newcar])});case"CREATE_RENTAL":return Object(ve.a)(Object(ve.a)({},e),{},{rentals:[].concat(Object(je.a)(e.rentals),[t.newrental])});case"CREATE_COLOR":return Object(ve.a)(Object(ve.a)({},e),{},{colorOptions:[].concat(Object(je.a)(e.colorOptions),[t.newcolor])});case"CREATE_FUEL":return Object(ve.a)(Object(ve.a)({},e),{},{fuelOptions:[].concat(Object(je.a)(e.fuelOptions),[t.newfuel])});case"CREATE_MAKE":return Object(ve.a)(Object(ve.a)({},e),{},{makeOptions:[].concat(Object(je.a)(e.makeOptions),[t.newmake])});case"CREATE_STATUS":return Object(ve.a)(Object(ve.a)({},e),{},{statusOptions:[].concat(Object(je.a)(e.statusOptions),[t.newstatuse])});case"CREATE_TYPE":return Object(ve.a)(Object(ve.a)({},e),{},{typeOptions:[].concat(Object(je.a)(e.typeOptions),[t.newtype])});case"CREATE_RENTALTYPE":return Object(ve.a)(Object(ve.a)({},e),{},{rentaltypeOptions:[].concat(Object(je.a)(e.rentaltypeOptions),[t.newrentaltype])});case"CREATE_MODEL":return Object(ve.a)(Object(ve.a)({},e),{},{modelOptions:[].concat(Object(je.a)(e.modelOptions),[t.newmodel])});case"CREATE_CUSTOMER":return Object(ve.a)(Object(ve.a)({},e),{},{customerOptions:[].concat(Object(je.a)(e.customerOptions),[t.newcustomer])});case"DELETE_car":var a=e.cars.filter((function(e){return t.id!==e.id}));return Object(ve.a)(Object(ve.a)({},e),{},{cars:a});case"UPDATE_CAR":return Object(ve.a)(Object(ve.a)({},e),{},{cars:[].concat(Object(je.a)(e.cars),[t.updatedCar])});default:return e}},we=Object(ye.c)({auth:Oe,other:_e}),De=a(196),Te=(a(364),Object(ye.d)(we,Object(ye.a)(De.a)));l.a.render(r.a.createElement(p.a,{store:Te},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[209,1,2]]]);
//# sourceMappingURL=main.e654a6b7.chunk.js.map